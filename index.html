<!DOCTYPE html>
<html>

<head>
	<script src="https://cdn.userway.org/widget.js" data-account="J2h9avAIGK"></script>
	
    <!-- AddEvent script -->
    <script type="text/javascript" src="https://cdn.addevent.com/libs/atc/1.6.1/atc.min.js" async defer></script>

    <title>Dog Friend Book Club</title>
    <link rel="icon" type="image/x-icon" href="images/favicon.png?">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
   
    <base href="https://dogfriendbookclub.com/">

</head>

<body>

    <style>
        .wrapper {
        display:flex;
        justify-content:center;
        resize:both;
        width:auto;
        height:auto;
        }
        /* The Modal (background) */
		.modal {
		  display: none; /* Hidden by default */
		  position: fixed; /* Stay in place */
		  z-index: 1; /* Sit on top */
		  padding-top: 100px; /* Location of the box */
		  left: 0;
		  top: 0;
		  width: 100%; /* Full width */
		  height: 100%; /* Full height */
		  overflow: auto; /* Enable scroll if needed */
		  background-color: rgb(0,0,0); /* Fallback color */
		  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
		}

		/* Modal Content */
		.modal-content {
		  background-color: #fefefe;
		  margin: auto;
		  padding: 20px;
		  border: 1px solid #888;
		  width: 80%;
		  text-align: center;
		}

		/* The Close Button */
		.close {
		  color: #aaaaaa;
		  float: right;
		  font-size: 28px;
		  font-weight: bold;
		}

		.close:hover,
		.close:focus {
		  color: #000;
		  text-decoration: none;
		  cursor: pointer;
		}
    </style>

    <!-- Side Navigation -->
    <nav class="w3-sidebar w3-bar-block w3-card w3-animate-left w3-center" style="display:none" id="mySidebar">
        <h1 class="w3-xxxlarge w3-text-theme">Menu</h1>
        <button class="w3-bar-item w3-button" onclick="w3_close()">Back <i class="fa fa-remove"></i></button>
        <a href="/index.html" class="w3-bar-item w3-button">Home</a>
        <a href="/vote.html" class="w3-bar-item w3-button">Vote</a>
        <a href="/results.html" class="w3-bar-item w3-button">Results</a>
        <a href="/suggest.html" class="w3-bar-item w3-button">Suggest</a>
        <a href="/pastReads.html" class="w3-bar-item w3-button">Past Months</a>
        <a href="/allSuggestions.html" class="w3-bar-item w3-button">All Suggestions</a>
        <a href="/ourCollections.html" class="w3-bar-item w3-button">Our Collections</a>


    </nav>

    <!-- Header -->
    <header class="w3-container w3-teal w3-padding" id="myHeader">
        <i onclick="w3_open()" class="fa fa-bars w3-xlarge w3-button w3-theme"></i>
        <div class="w3-center">
            <h1 class="w3-xxlarge w3-animate-bottom">Dog Friend Book Club</h1>
        </div>
    </header>
    
    <!-- The Modal -->
	<div id="myModal" class="modal">

	  <!-- Modal content -->
	  <div class="modal-content">
		<span class="close">&times;</span>
		<h1>Voting is Now Open!</h1>
		<br>
		<button id="voteButton">Vote Here</button>
	  </div>

	</div>

    <div class="w3-row-padding w3-center w3-margin-top">
        <div class="w3-card w3-container">
            <h3>Current Month Book Club Info</h3>
        </div>
    </div>


    <div class="w3-row-padding w3-center w3-margin-top">
        <div class="w3-third">
    <div class="w3-card w3-container" style="min-height:460px" id="nowReading">
        <h3>Currently Reading</h3>
        <br>

        <p>Our Own Collection!</p>
        <br>
        <p>We're currently reading the short works collection made with suggestions from the group. You can download a digital copy below or hard copies will be available by mid-January</p>
        
        <a href="dfbc2024Collection.azw3" download>
  		<button type="button">Download Kindle eBook</button>
		</a>
		<br><br>
		<a href="downloadVerDFBC2024.pdf" download="DogFriendBookClub2024Collection.pdf">
		  <button type="button">Download PDF</button>
		</a>
		<!-- Book details will be populated here by the script -->
			<script src="getReadingNow.js"></script> 

        
    </div>


                <!-- <div class="w3-padding-16">
      <a href="https://www.moonpalacebooks.com/item/UPeceejxZgdJtKstBXRdqQ" class="w3-button w3-teal" target="_blank">Buy Independent</a></p>
    </div>
    <div class="w3-padding-16">
      <a href="https://www.barnesandnoble.com/w/detransition-baby-torrey-peters/1134846767?ean=9780593133385" 
      class="w3-button w3-teal" target="_blank">Buy from B&N</a></p>
    </div>
    <div class="w3-padding-16">
      <a href="https://open.spotify.com/show/0V6j5L0DV2GmtREQFw9FyG" class="w3-button w3-teal" target="_blank">Audiobook</a></p>
    </div> -->
            </div>

        <div class="w3-third">
            <div class="w3-card w3-container" id="meetingPlaceCard" style="min-height:460px">
                <h3>Meeting Place</h3>
                <p id="meetingPlaceText">[Placeholder for meeting place]</p>
                <div id="meetingPlaceMap">
                    <!-- This is where the iframe for the map will be inserted dynamically -->
                </div>
            </div>
        </div>

        <div class="w3-third">
            <div class="w3-card w3-container" style="min-height:460px">
                <h3>Add to Calendar</h3>
                <br>
                <p id="meetingNameText">[Meeting Name Placeholder]</p>
                <p id="meetingTimeText">[Placeholder for meeting time]<p>
                        <br>


                        <a title="Add Meeting to Calendar" class="addeventatc" data-id="IF24688633" href="https://www.addevent.com/event/np23534691" target="_blank">Add Meeting to Calendar</a>
                        <script type="text/javascript" src="https://cdn.addevent.com/libs/atc/1.6.1/atc.min.js"
                        async defer></script>
                        <br>
                        <br>
                        <a title="Subscribe to Calendar" class="addeventstc" data-id="TQ671575" href="https://www.addevent.com/calendar/TQ671575" target="_blank">Subscribe to Calendar</a>
                        <script type="text/javascript" src="https://cdn.addevent.com/libs/stc/1.0.2/stc.min.js"
                        async defer></script> 
                        <br>
                        <br>
                        <p>Click the "Subscribe to Calendar" button to have book club meeting events added directly onto your calendar each month. The "Add Meeting to Calendar" button will add only the upcoming meeting as a calendar event.</p>
            </div>
        </div>
    </div>
    <br>


    <!-- Footer -->
    <footer class="w3-container w3-teal w3-center w3-padding-16">
        <p>dogfriendbookclub.com</p>
    </footer>

    <!-- Script for Sidebar, Tabs, Accordions, Progress bars and slideshows -->
    <script type="module">
    	import { voteStart, voteEnd, meetingTime } from './variables.js';

    	const today = new Date().getTime();
		const voteOpen = today > voteStart && today < voteEnd;


		// Get the modal
		var modal = document.getElementById("myModal");

		// Get the button that opens the vote page
		var btn = document.getElementById("voteButton");

		// Get the <span> element that closes the modal
		var span = document.getElementsByClassName("close")[0];

		// When the user clicks the button, open the vote page
		btn.onclick = function() {
		  window.open("vote.html", "_blank");
		}

		// When the user clicks on <span> (x), close the modal
		span.onclick = function() {
		  modal.style.display = "none";
		}

		// When the user clicks anywhere outside of the modal, close it
		window.onclick = function(event) {
		  if (event.target == modal) {
			modal.style.display = "none";
		  }
		}

		if (voteOpen) {
		  modal.style.display = "block";
		}

    </script>

    <script type="module">
        import { meetingPlace, meetingPlaceIframe, meetingTime, meetingName } from './variables.js';

        document.addEventListener('DOMContentLoaded', () => {
            // Update the meeting place text
            const meetingPlaceElement = document.getElementById('meetingPlaceText');
            if (meetingPlaceElement) {
                meetingPlaceElement.textContent = meetingPlace;
            }

            // Get the container for the iframe
            const meetingPlaceIframeContainer = document.getElementById('meetingPlaceMap');
            if (meetingPlaceIframeContainer) {
                // Insert the iframe code into the container
                meetingPlaceIframeContainer.innerHTML = meetingPlaceIframe;
            }

            // update meeting name
            const meetingNameElement = document.getElementById('meetingNameText');
            if (meetingNameElement) {
                meetingNameElement.textContent = `${meetingName}`
            }

            // Update the meeting time
            const meetingTimeElement = document.getElementById('meetingTimeText');
            const options = {
                weekday: "long",
                year: "numeric",
                month: "long",
                day: "numeric",
            };
            if (meetingTimeElement) {
                meetingTimeElement.textContent = `${meetingTime.toLocaleDateString("en-US", options)} at ${meetingTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`;
            }
        });
    </script>



    <script>
    function w3_open() {
  var x = document.getElementById("mySidebar");
  x.style.width = "70%";
  x.style.fontSize = "30px";
  x.style.paddingTop = "10%";
  x.style.display = "block";
}
function w3_close() {
  document.getElementById("mySidebar").style.display = "none";
}
</script>



</body>

</html>